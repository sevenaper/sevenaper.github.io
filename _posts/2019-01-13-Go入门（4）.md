---
title: Golang入门（四）：复合数据类型
key: 20190113
tags: Golang
---

## 数组

数组是具有固定长度且拥有两个或者多个相同数据类型元素的序列。数组的长度固定，所以Go中很少直接使用。数组的长度必须是常量表达式，也就是说这个表达式的值在程序编译的时候就可以确定。在数组字面量中，如果省略号...出现在数组长度的位置，那么数组的长度由初始化元素的个数来决定。[]表示的是slice

数组和数组之间比较必须是同种类型，也就是说[2]int和[3]int并不能直接进行比较。

##　Slice

slice表示一个拥有相同类型元素的可变长序列，通常写成[]T。数组和slice是紧密联系的。slice是一种轻量级的数据结构，可以用来访问数组的组成部分或者全部元素，而这个数组成为slice的底层数组。slice有三个属性：指针、长度和容量。指针指向数组的第一个可以从slice访问的元素，这个元素并不是数组的第一个元素。长度是指slice中的元素个数，它不能超过slice的容量。容量的大小通常是从slice的起始元素到底层数组的最后一个元素间元素的个数。通常用len和cap来返回slice的长度和容量。

一个底层数组可以应对多个slice，这些slice可以引用数组的任意位置，彼此之间的元素还可以重叠。如果slice长度超过了被引对象的容量，那么会导致程序宕机，若仅仅只超出了被引对象的长度，那么最终slice会比原slice长。

因为slice包含了指向数组元素的指针，所以将一个slice传递给函数的时候，可以再函数内部修改底层数组的元素。

和数组不同的是，slice无法做比较，因此不能用==来曾是两个slice是否拥有相同的元素。不用==做比较有两个方面的原因：一是数组元素不同，slice的元素不可以直接进行比较，slice有可能包含它自己本身。